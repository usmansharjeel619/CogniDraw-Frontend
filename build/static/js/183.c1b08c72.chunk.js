"use strict";(self.webpackChunkfrontends=self.webpackChunkfrontends||[]).push([[183],{3183:function(t,r,e){e.d(r,{a:function(){return h},b:function(){return Q},c:function(){return u},d:function(){return ot},e:function(){return G},f:function(){return ct},g:function(){return J},h:function(){return ut},i:function(){return b},j:function(){return dt},k:function(){return rt},l:function(){return p},m:function(){return et},p:function(){return F},s:function(){return V},u:function(){return f}});var a=e(4165),n=e(3433),i=e(5861),s=e(7762),o=e(1319),c=e(9913),l=e(9506),d={extension:function(t,r,e){o.l.trace("Making markers for ",e),t.append("defs").append("marker").attr("id",e+"_"+r+"-extensionStart").attr("class","marker extension "+r).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",e+"_"+r+"-extensionEnd").attr("class","marker extension "+r).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition:function(t,r,e){t.append("defs").append("marker").attr("id",e+"_"+r+"-compositionStart").attr("class","marker composition "+r).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"_"+r+"-compositionEnd").attr("class","marker composition "+r).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation:function(t,r,e){t.append("defs").append("marker").attr("id",e+"_"+r+"-aggregationStart").attr("class","marker aggregation "+r).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"_"+r+"-aggregationEnd").attr("class","marker aggregation "+r).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency:function(t,r,e){t.append("defs").append("marker").attr("id",e+"_"+r+"-dependencyStart").attr("class","marker dependency "+r).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"_"+r+"-dependencyEnd").attr("class","marker dependency "+r).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},lollipop:function(t,r,e){t.append("defs").append("marker").attr("id",e+"_"+r+"-lollipopStart").attr("class","marker lollipop "+r).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",e+"_"+r+"-lollipopEnd").attr("class","marker lollipop "+r).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},point:function(t,r,e){t.append("marker").attr("id",e+"_"+r+"-pointEnd").attr("class","marker "+r).attr("viewBox","0 0 10 10").attr("refX",6).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"_"+r+"-pointStart").attr("class","marker "+r).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle:function(t,r,e){t.append("marker").attr("id",e+"_"+r+"-circleEnd").attr("class","marker "+r).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"_"+r+"-circleStart").attr("class","marker "+r).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross:function(t,r,e){t.append("marker").attr("id",e+"_"+r+"-crossEnd").attr("class","marker cross "+r).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"_"+r+"-crossStart").attr("class","marker cross "+r).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb:function(t,r,e){t.append("defs").append("marker").attr("id",e+"_"+r+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}},h=function(t,r,e,a){r.forEach((function(r){d[r](t,e,a)}))};var u=function(t,r,e,a){var n=t||"";if("object"===typeof n&&(n=n[0]),(0,o.m)((0,o.c)().flowchart.htmlLabels)){n=n.replace(/\\n|\n/g,"<br />"),o.l.debug("vertexText"+n);var i=function(t){var r,e,a=(0,c.Ys)(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),n=a.append("xhtml:div"),i=t.label,s=t.isNode?"nodeLabel":"edgeLabel";return n.html('<span class="'+s+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+i+"</span>"),r=n,(e=t.labelStyle)&&r.attr("style",e),n.style("display","inline-block"),n.style("white-space","nowrap"),n.attr("xmlns","http://www.w3.org/1999/xhtml"),a.node()}({isNode:a,label:(0,o.M)(n).replace(/fa[blrs]?:fa-[\w-]+/g,(function(t){return"<i class='".concat(t.replace(":"," "),"'></i>")})),labelStyle:r.replace("fill:","color:")});return i}var l=document.createElementNS("http://www.w3.org/2000/svg","text");l.setAttribute("style",r.replace("color:","fill:"));var d=[];d="string"===typeof n?n.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(n)?n:[];var h,u=(0,s.Z)(d);try{for(u.s();!(h=u.n()).done;){var p=h.value,f=document.createElementNS("http://www.w3.org/2000/svg","tspan");f.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),f.setAttribute("dy","1em"),f.setAttribute("x","0"),e?f.setAttribute("class","title-row"):f.setAttribute("class","row"),f.textContent=p.trim(),l.appendChild(f)}}catch(y){u.e(y)}finally{u.f()}return l},p=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e,i,s){var d,h,p,f,y,g,x,w,b,v,m,k,L;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(h=e.useHtmlLabels||(0,o.m)((0,o.c)().flowchart.htmlLabels),d=i||"node default",p=r.insert("g").attr("class",d).attr("id",e.domId||e.id),f=p.insert("g").attr("class","label").attr("style",e.labelStyle),y=void 0===e.labelText?"":"string"===typeof e.labelText?e.labelText:e.labelText[0],g=f.node(),x="markdown"===e.labelType?(0,l.a)(f,(0,o.d)((0,o.M)(y),(0,o.c)()),{useHtmlLabels:h,width:e.width||(0,o.c)().flowchart.wrappingWidth,classes:"markdown-node-label"}):g.appendChild(u((0,o.d)((0,o.M)(y),(0,o.c)()),e.labelStyle,!1,s)),w=x.getBBox(),b=e.padding/2,!(0,o.m)((0,o.c)().flowchart.htmlLabels)){t.next=20;break}if(v=x.children[0],m=(0,c.Ys)(x),!(k=v.getElementsByTagName("img"))){t.next=17;break}return L=""===y.replace(/<img[^>]*>/g,"").trim(),t.next=17,Promise.all((0,n.Z)(k).map((function(t){return new Promise((function(r){function e(){if(t.style.display="flex",t.style.flexDirection="column",L){var e=(0,o.c)().fontSize?(0,o.c)().fontSize:window.getComputedStyle(document.body).fontSize,a=5*parseInt(e,10)+"px";t.style.minWidth=a,t.style.maxWidth=a}else t.style.width="100%";r(t)}setTimeout((function(){t.complete&&e()})),t.addEventListener("error",e),t.addEventListener("load",e)}))})));case 17:w=v.getBoundingClientRect(),m.attr("width",w.width),m.attr("height",w.height);case 20:return h?f.attr("transform","translate("+-w.width/2+", "+-w.height/2+")"):f.attr("transform","translate(0, "+-w.height/2+")"),e.centerLabel&&f.attr("transform","translate("+-w.width/2+", "+-w.height/2+")"),f.insert("rect",":first-child"),t.abrupt("return",{shapeSvg:p,bbox:w,halfPadding:b,label:f});case 24:case"end":return t.stop()}}),t)})));return function(r,e,a,n){return t.apply(this,arguments)}}(),f=function(t,r){var e=r.node().getBBox();t.width=e.width,t.height=e.height};function y(t,r,e,a){return t.insert("polygon",":first-child").attr("points",a.map((function(t){return t.x+","+t.y})).join(" ")).attr("class","label-container").attr("transform","translate("+-r/2+","+e/2+")")}function g(t,r,e,a){var n=t.x,i=t.y,s=n-a.x,o=i-a.y,c=Math.sqrt(r*r*o*o+e*e*s*s),l=Math.abs(r*e*s/c);a.x<n&&(l=-l);var d=Math.abs(r*e*o/c);return a.y<i&&(d=-d),{x:n+l,y:i+d}}function x(t,r,e,a){var n,i,s,o,c,l,d,h,u,p,f,y,g;if(n=r.y-t.y,s=t.x-r.x,c=r.x*t.y-t.x*r.y,u=n*e.x+s*e.y+c,p=n*a.x+s*a.y+c,(0===u||0===p||!w(u,p))&&(i=a.y-e.y,o=e.x-a.x,l=a.x*e.y-e.x*a.y,d=i*t.x+o*t.y+l,h=i*r.x+o*r.y+l,(0===d||0===h||!w(d,h))&&0!==(f=n*o-i*s)))return y=Math.abs(f/2),{x:(g=s*l-o*c)<0?(g-y)/f:(g+y)/f,y:(g=i*c-n*l)<0?(g-y)/f:(g+y)/f}}function w(t,r){return t*r>0}var b=function(t,r){var e,a,n=t.x,i=t.y,s=r.x-n,o=r.y-i,c=t.width/2,l=t.height/2;return Math.abs(o)*c>Math.abs(s)*l?(o<0&&(l=-l),e=0===o?0:l*s/o,a=l):(s<0&&(c=-c),e=c,a=0===s?0:c*o/s),{x:n+e,y:i+a}},v={node:function(t,r){return t.intersect(r)},circle:function(t,r,e){return g(t,r,r,e)},ellipse:g,polygon:function(t,r,e){var a=t.x,n=t.y,i=[],s=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;"function"===typeof r.forEach?r.forEach((function(t){s=Math.min(s,t.x),o=Math.min(o,t.y)})):(s=Math.min(s,r.x),o=Math.min(o,r.y));for(var c=a-t.width/2-s,l=n-t.height/2-o,d=0;d<r.length;d++){var h=r[d],u=r[d<r.length-1?d+1:0],p=x(t,e,{x:c+h.x,y:l+h.y},{x:c+u.x,y:l+u.y});p&&i.push(p)}return i.length?(i.length>1&&i.sort((function(t,r){var a=t.x-e.x,n=t.y-e.y,i=Math.sqrt(a*a+n*n),s=r.x-e.x,o=r.y-e.y,c=Math.sqrt(s*s+o*o);return i<c?-1:i===c?0:1})),i[0]):t},rect:b},m=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,c,l;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.useHtmlLabels||(0,o.c)().flowchart.htmlLabels||(e.centerLabel=!0),t.next=4,p(r,e,"node "+e.classes,!0);case 4:return n=t.sent,i=n.shapeSvg,s=n.bbox,c=n.halfPadding,o.l.info("Classes = ",e.classes),(l=i.insert("rect",":first-child")).attr("rx",e.rx).attr("ry",e.ry).attr("x",-s.width/2-c).attr("y",-s.height/2-c).attr("width",s.width+e.padding).attr("height",s.height+e.padding),f(e,l),e.intersect=function(t){return v.rect(e,t)},t.abrupt("return",i);case 14:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),k=m,L=function(t,r,e){var a=function(t){var r,e=new Set,a=(0,s.Z)(t);try{for(a.s();!(r=a.n()).done;){var n=r.value;switch(n){case"x":e.add("right"),e.add("left");break;case"y":e.add("up"),e.add("down");break;default:e.add(n)}}}catch(i){a.e(i)}finally{a.f()}return e}(t),n=r.height+2*e.padding,i=n/2,o=r.width+2*i+e.padding,c=e.padding/2;return a.has("right")&&a.has("left")&&a.has("up")&&a.has("down")?[{x:0,y:0},{x:i,y:0},{x:o/2,y:2*c},{x:o-i,y:0},{x:o,y:0},{x:o,y:-n/3},{x:o+2*c,y:-n/2},{x:o,y:-2*n/3},{x:o,y:-n},{x:o-i,y:-n},{x:o/2,y:-n-2*c},{x:i,y:-n},{x:0,y:-n},{x:0,y:-2*n/3},{x:-2*c,y:-n/2},{x:0,y:-n/3}]:a.has("right")&&a.has("left")&&a.has("up")?[{x:i,y:0},{x:o-i,y:0},{x:o,y:-n/2},{x:o-i,y:-n},{x:i,y:-n},{x:0,y:-n/2}]:a.has("right")&&a.has("left")&&a.has("down")?[{x:0,y:0},{x:i,y:-n},{x:o-i,y:-n},{x:o,y:0}]:a.has("right")&&a.has("up")&&a.has("down")?[{x:0,y:0},{x:o,y:-i},{x:o,y:-n+i},{x:0,y:-n}]:a.has("left")&&a.has("up")&&a.has("down")?[{x:o,y:0},{x:0,y:-i},{x:0,y:-n+i},{x:o,y:-n}]:a.has("right")&&a.has("left")?[{x:i,y:0},{x:i,y:-c},{x:o-i,y:-c},{x:o-i,y:0},{x:o,y:-n/2},{x:o-i,y:-n},{x:o-i,y:-n+c},{x:i,y:-n+c},{x:i,y:-n},{x:0,y:-n/2}]:a.has("up")&&a.has("down")?[{x:o/2,y:0},{x:0,y:-c},{x:i,y:-c},{x:i,y:-n+c},{x:0,y:-n+c},{x:o/2,y:-n},{x:o,y:-n+c},{x:o-i,y:-n+c},{x:o-i,y:-c},{x:o,y:-c}]:a.has("right")&&a.has("up")?[{x:0,y:0},{x:o,y:-i},{x:0,y:-n}]:a.has("right")&&a.has("down")?[{x:0,y:0},{x:o,y:0},{x:0,y:-n}]:a.has("left")&&a.has("up")?[{x:o,y:0},{x:0,y:-i},{x:o,y:-n}]:a.has("left")&&a.has("down")?[{x:o,y:0},{x:0,y:0},{x:o,y:-n}]:a.has("right")?[{x:i,y:-c},{x:i,y:-c},{x:o-i,y:-c},{x:o-i,y:0},{x:o,y:-n/2},{x:o-i,y:-n},{x:o-i,y:-n+c},{x:i,y:-n+c},{x:i,y:-n+c}]:a.has("left")?[{x:i,y:0},{x:i,y:-c},{x:o-i,y:-c},{x:o-i,y:-n+c},{x:i,y:-n+c},{x:i,y:-n},{x:0,y:-n/2}]:a.has("up")?[{x:i,y:-c},{x:i,y:-n+c},{x:0,y:-n+c},{x:o/2,y:-n},{x:o,y:-n+c},{x:o-i,y:-n+c},{x:o-i,y:-c}]:a.has("down")?[{x:o/2,y:0},{x:0,y:-c},{x:i,y:-c},{x:i,y:-n+c},{x:o-i,y:-n+c},{x:o-i,y:-c},{x:o,y:-c}]:[{x:0,y:0}]},S=function(t){return t?" "+t:""},Z=function(t,r){return"".concat(r||"node default").concat(S(t.classes)," ").concat(S(t.class))},M=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,c,l,d,h,u;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(r,e,Z(e,void 0),!0);case 2:return n=t.sent,i=n.shapeSvg,s=n.bbox,c=s.width+e.padding,l=s.height+e.padding,h=[{x:(d=c+l)/2,y:0},{x:d,y:-d/2},{x:d/2,y:-d},{x:0,y:-d/2}],o.l.info("Question main (Circle)"),(u=y(i,d,d,h)).attr("style",e.style),f(e,u),e.intersect=function(t){return o.l.warn("Intersect called"),v.polygon(e,h,t)},t.abrupt("return",i);case 15:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),T=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,o,c,l,d,h;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(r,e,Z(e,void 0),!0);case 2:return n=t.sent,i=n.shapeSvg,s=n.bbox,4,o=s.height+e.padding,c=o/4,l=s.width+2*c+e.padding,(h=y(i,l,o,d=[{x:c,y:0},{x:l-c,y:0},{x:l,y:-o/2},{x:l-c,y:-o},{x:c,y:-o},{x:0,y:-o/2}])).attr("style",e.style),f(e,h),e.intersect=function(t){return v.polygon(e,d,t)},t.abrupt("return",i);case 15:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),B=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,o,c,l,d,h;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(r,e,void 0,!0);case 2:return n=t.sent,i=n.shapeSvg,s=n.bbox,2,o=s.height+2*e.padding,c=o/2,l=s.width+2*c+e.padding,d=L(e.directions,s,e),(h=y(i,l,o,d)).attr("style",e.style),f(e,h),e.intersect=function(t){return v.polygon(e,d,t)},t.abrupt("return",i);case 15:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),_=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,o,c,l;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(r,e,Z(e,void 0),!0);case 2:return n=t.sent,i=n.shapeSvg,s=n.bbox,o=s.width+e.padding,c=s.height+e.padding,y(i,o,c,l=[{x:-c/2,y:0},{x:o,y:0},{x:o,y:-c},{x:-c/2,y:-c},{x:0,y:-c/2}]).attr("style",e.style),e.width=o+c,e.height=c,e.intersect=function(t){return v.polygon(e,l,t)},t.abrupt("return",i);case 14:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),C=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,o,c,l,d;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(r,e,Z(e),!0);case 2:return n=t.sent,i=n.shapeSvg,s=n.bbox,o=s.width+e.padding,c=s.height+e.padding,(d=y(i,o,c,l=[{x:-2*c/6,y:0},{x:o-c/6,y:0},{x:o+2*c/6,y:-c},{x:c/6,y:-c}])).attr("style",e.style),f(e,d),e.intersect=function(t){return v.polygon(e,l,t)},t.abrupt("return",i);case 13:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),E=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,o,c,l,d;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(r,e,Z(e,void 0),!0);case 2:return n=t.sent,i=n.shapeSvg,s=n.bbox,o=s.width+e.padding,c=s.height+e.padding,(d=y(i,o,c,l=[{x:2*c/6,y:0},{x:o+c/6,y:0},{x:o-2*c/6,y:-c},{x:-c/6,y:-c}])).attr("style",e.style),f(e,d),e.intersect=function(t){return v.polygon(e,l,t)},t.abrupt("return",i);case 13:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),Y=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,o,c,l,d;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(r,e,Z(e,void 0),!0);case 2:return n=t.sent,i=n.shapeSvg,s=n.bbox,o=s.width+e.padding,c=s.height+e.padding,(d=y(i,o,c,l=[{x:-2*c/6,y:0},{x:o+2*c/6,y:0},{x:o-c/6,y:-c},{x:c/6,y:-c}])).attr("style",e.style),f(e,d),e.intersect=function(t){return v.polygon(e,l,t)},t.abrupt("return",i);case 13:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),P=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,o,c,l,d;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(r,e,Z(e,void 0),!0);case 2:return n=t.sent,i=n.shapeSvg,s=n.bbox,o=s.width+e.padding,c=s.height+e.padding,(d=y(i,o,c,l=[{x:c/6,y:0},{x:o-c/6,y:0},{x:o+2*c/6,y:-c},{x:-2*c/6,y:-c}])).attr("style",e.style),f(e,d),e.intersect=function(t){return v.polygon(e,l,t)},t.abrupt("return",i);case 13:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),R=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,o,c,l,d;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(r,e,Z(e,void 0),!0);case 2:return n=t.sent,i=n.shapeSvg,s=n.bbox,o=s.width+e.padding,c=s.height+e.padding,(d=y(i,o,c,l=[{x:0,y:0},{x:o+c/2,y:0},{x:o,y:-c/2},{x:o+c/2,y:-c},{x:0,y:-c}])).attr("style",e.style),f(e,d),e.intersect=function(t){return v.polygon(e,l,t)},t.abrupt("return",i);case 13:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),O=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,o,c,l,d,h,u;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(r,e,Z(e,void 0),!0);case 2:return n=t.sent,i=n.shapeSvg,s=n.bbox,o=s.width+e.padding,l=(c=o/2)/(2.5+o/50),d=s.height+l+e.padding,h="M 0,"+l+" a "+c+","+l+" 0,0,0 "+o+" 0 a "+c+","+l+" 0,0,0 "+-o+" 0 l 0,"+d+" a "+c+","+l+" 0,0,0 "+o+" 0 l 0,"+-d,u=i.attr("label-offset-y",l).insert("path",":first-child").attr("style",e.style).attr("d",h).attr("transform","translate("+-o/2+","+-(d/2+l)+")"),f(e,u),e.intersect=function(t){var r=v.rect(e,t),a=r.x-e.x;if(0!=c&&(Math.abs(a)<e.width/2||Math.abs(a)==e.width/2&&Math.abs(r.y-e.y)>e.height/2-l)){var n=l*l*(1-a*a/(c*c));0!=n&&(n=Math.sqrt(n)),n=l-n,t.y-e.y>0&&(n=-n),r.y+=n}return r},t.abrupt("return",i);case 14:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),W=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,c,l,d,h,u,y,g;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(r,e,"node "+e.classes+" "+e.class,!0);case 2:return n=t.sent,i=n.shapeSvg,s=n.bbox,c=n.halfPadding,l=i.insert("rect",":first-child"),d=e.positioned?e.width:s.width+e.padding,h=e.positioned?e.height:s.height+e.padding,u=e.positioned?-d/2:-s.width/2-c,y=e.positioned?-h/2:-s.height/2-c,l.attr("class","basic label-container").attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",u).attr("y",y).attr("width",d).attr("height",h),e.props&&(g=new Set(Object.keys(e.props)),e.props.borders&&(I(l,e.props.borders,d,h),g.delete("borders")),g.forEach((function(t){o.l.warn("Unknown node property ".concat(t))}))),f(e,l),e.intersect=function(t){return v.rect(e,t)},t.abrupt("return",i);case 16:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),X=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,c,l,d,h,u,y,g;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(r,e,"node "+e.classes,!0);case 2:return n=t.sent,i=n.shapeSvg,s=n.bbox,c=n.halfPadding,l=i.insert("rect",":first-child"),d=e.positioned?e.width:s.width+e.padding,h=e.positioned?e.height:s.height+e.padding,u=e.positioned?-d/2:-s.width/2-c,y=e.positioned?-h/2:-s.height/2-c,l.attr("class","basic cluster composite label-container").attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",u).attr("y",y).attr("width",d).attr("height",h),e.props&&(g=new Set(Object.keys(e.props)),e.props.borders&&(I(l,e.props.borders,d,h),g.delete("borders")),g.forEach((function(t){o.l.warn("Unknown node property ".concat(t))}))),f(e,l),e.intersect=function(t){return v.rect(e,t)},t.abrupt("return",i);case 16:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),H=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,c;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(r,e,"label",!0);case 2:return n=t.sent,i=n.shapeSvg,o.l.trace("Classes = ",e.class),s=i.insert("rect",":first-child"),0,0,s.attr("width",0).attr("height",0),i.attr("class","label edgeLabel"),e.props&&(c=new Set(Object.keys(e.props)),e.props.borders&&(I(s,e.props.borders,0,0),c.delete("borders")),c.forEach((function(t){o.l.warn("Unknown node property ".concat(t))}))),f(e,s),e.intersect=function(t){return v.rect(e,t)},t.abrupt("return",i);case 14:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}();function I(t,r,e,a){var n=[],i=function(t){n.push(t,0)},s=function(t){n.push(0,t)};r.includes("t")?(o.l.debug("add top border"),i(e)):s(e),r.includes("r")?(o.l.debug("add right border"),i(a)):s(a),r.includes("b")?(o.l.debug("add bottom border"),i(e)):s(e),r.includes("l")?(o.l.debug("add left border"),i(a)):s(a),t.attr("stroke-dasharray",n.join(" "))}var j=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,o,c,l;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(r,e,Z(e,void 0),!0);case 2:return n=t.sent,i=n.shapeSvg,s=n.bbox,o=s.height+e.padding,c=s.width+o/4+e.padding,l=i.insert("rect",":first-child").attr("style",e.style).attr("rx",o/2).attr("ry",o/2).attr("x",-c/2).attr("y",-o/2).attr("width",c).attr("height",o),f(e,l),e.intersect=function(t){return v.rect(e,t)},t.abrupt("return",i);case 11:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),D=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,c,l;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(r,e,Z(e,void 0),!0);case 2:return n=t.sent,i=n.shapeSvg,s=n.bbox,c=n.halfPadding,(l=i.insert("circle",":first-child")).attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",s.width/2+c).attr("width",s.width+e.padding).attr("height",s.height+e.padding),o.l.info("Circle main"),f(e,l),e.intersect=function(t){return o.l.info("Circle intersect",e,s.width/2+c,t),v.circle(e,s.width/2+c,t)},t.abrupt("return",i);case 12:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),N=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,c,l,d,h;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(r,e,Z(e,void 0),!0);case 2:return n=t.sent,i=n.shapeSvg,s=n.bbox,c=n.halfPadding,5,l=i.insert("g",":first-child"),d=l.insert("circle"),h=l.insert("circle"),l.attr("class",e.class),d.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",s.width/2+c+5).attr("width",s.width+e.padding+10).attr("height",s.height+e.padding+10),h.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",s.width/2+c).attr("width",s.width+e.padding).attr("height",s.height+e.padding),o.l.info("DoubleCircle main"),f(e,d),e.intersect=function(t){return o.l.info("DoubleCircle intersect",e,s.width/2+c+5,t),v.circle(e,s.width/2+c+5,t)},t.abrupt("return",i);case 17:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),U=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,o,c,l,d;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(r,e,Z(e,void 0),!0);case 2:return n=t.sent,i=n.shapeSvg,s=n.bbox,o=s.width+e.padding,c=s.height+e.padding,(d=y(i,o,c,l=[{x:0,y:0},{x:o,y:0},{x:o,y:-c},{x:0,y:-c},{x:0,y:0},{x:-8,y:0},{x:o+8,y:0},{x:o+8,y:-c},{x:-8,y:-c},{x:-8,y:0}])).attr("style",e.style),f(e,d),e.intersect=function(t){return v.polygon(e,l,t)},t.abrupt("return",i);case 13:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),A=function(t,r,e){var a=t.insert("g").attr("class","node default").attr("id",r.domId||r.id),n=70,i=10;"LR"===e&&(n=10,i=70);var s=a.append("rect").attr("x",-1*n/2).attr("y",-1*i/2).attr("width",n).attr("height",i).attr("class","fork-join");return f(r,s),r.height=r.height+r.padding/2,r.width=r.width+r.padding/2,r.intersect=function(t){return v.rect(r,t)},a},q={rhombus:M,composite:X,question:M,rect:W,labelRect:H,rectWithTitle:function(t,r){var e;e=r.classes?"node "+r.classes:"node default";var a=t.insert("g").attr("class",e).attr("id",r.domId||r.id),n=a.insert("rect",":first-child"),i=a.insert("line"),s=a.insert("g").attr("class","label"),l=r.labelText.flat?r.labelText.flat():r.labelText,d="";d="object"===typeof l?l[0]:l,o.l.info("Label text abc79",d,l,"object"===typeof l);var h=s.node().appendChild(u(d,r.labelStyle,!0,!0)),p={width:0,height:0};if((0,o.m)((0,o.c)().flowchart.htmlLabels)){var y=h.children[0],g=(0,c.Ys)(h);p=y.getBoundingClientRect(),g.attr("width",p.width),g.attr("height",p.height)}o.l.info("Text 2",l);var x=l.slice(1,l.length),w=h.getBBox(),b=s.node().appendChild(u(x.join?x.join("<br/>"):x,r.labelStyle,!0,!0));if((0,o.m)((0,o.c)().flowchart.htmlLabels)){var m=b.children[0],k=(0,c.Ys)(b);p=m.getBoundingClientRect(),k.attr("width",p.width),k.attr("height",p.height)}var L=r.padding/2;return(0,c.Ys)(b).attr("transform","translate( "+(p.width>w.width?0:(w.width-p.width)/2)+", "+(w.height+L+5)+")"),(0,c.Ys)(h).attr("transform","translate( "+(p.width<w.width?0:-(w.width-p.width)/2)+", 0)"),p=s.node().getBBox(),s.attr("transform","translate("+-p.width/2+", "+(-p.height/2-L+3)+")"),n.attr("class","outer title-state").attr("x",-p.width/2-L).attr("y",-p.height/2-L).attr("width",p.width+r.padding).attr("height",p.height+r.padding),i.attr("class","divider").attr("x1",-p.width/2-L).attr("x2",p.width/2+L).attr("y1",-p.height/2-L+w.height+L).attr("y2",-p.height/2-L+w.height+L),f(r,n),r.intersect=function(t){return v.rect(r,t)},a},choice:function(t,r){var e=t.insert("g").attr("class","node default").attr("id",r.domId||r.id),a=[{x:0,y:14},{x:14,y:0},{x:0,y:-14},{x:-14,y:0}];return e.insert("polygon",":first-child").attr("points",a.map((function(t){return t.x+","+t.y})).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),r.width=28,r.height=28,r.intersect=function(t){return v.circle(r,14,t)},e},circle:D,doublecircle:N,stadium:j,hexagon:T,block_arrow:B,rect_left_inv_arrow:_,lean_right:C,lean_left:E,trapezoid:Y,inv_trapezoid:P,rect_right_inv_arrow:R,cylinder:O,start:function(t,r){var e=t.insert("g").attr("class","node default").attr("id",r.domId||r.id),a=e.insert("circle",":first-child");return a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),f(r,a),r.intersect=function(t){return v.circle(r,7,t)},e},end:function(t,r){var e=t.insert("g").attr("class","node default").attr("id",r.domId||r.id),a=e.insert("circle",":first-child"),n=e.insert("circle",":first-child");return n.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),a.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),f(r,n),r.intersect=function(t){return v.circle(r,7,t)},e},note:k,subroutine:U,fork:A,join:A,class_box:function(t,r){var e,a=r.padding/2;e=r.classes?"node "+r.classes:"node default";var n=t.insert("g").attr("class",e).attr("id",r.domId||r.id),i=n.insert("rect",":first-child"),s=n.insert("line"),l=n.insert("line"),d=0,h=4,p=n.insert("g").attr("class","label"),y=0,g=r.classData.annotations&&r.classData.annotations[0],x=r.classData.annotations[0]?"\xab"+r.classData.annotations[0]+"\xbb":"",w=p.node().appendChild(u(x,r.labelStyle,!0,!0)),b=w.getBBox();if((0,o.m)((0,o.c)().flowchart.htmlLabels)){var m=w.children[0],k=(0,c.Ys)(w);b=m.getBoundingClientRect(),k.attr("width",b.width),k.attr("height",b.height)}r.classData.annotations[0]&&(h+=b.height+4,d+=b.width);var L=r.classData.label;void 0!==r.classData.type&&""!==r.classData.type&&((0,o.c)().flowchart.htmlLabels?L+="&lt;"+r.classData.type+"&gt;":L+="<"+r.classData.type+">");var S=p.node().appendChild(u(L,r.labelStyle,!0,!0));(0,c.Ys)(S).attr("class","classTitle");var Z=S.getBBox();if((0,o.m)((0,o.c)().flowchart.htmlLabels)){var M=S.children[0],T=(0,c.Ys)(S);Z=M.getBoundingClientRect(),T.attr("width",Z.width),T.attr("height",Z.height)}h+=Z.height+4,Z.width>d&&(d=Z.width);var B=[];r.classData.members.forEach((function(t){var e=t.getDisplayDetails(),a=e.displayText;(0,o.c)().flowchart.htmlLabels&&(a=a.replace(/</g,"&lt;").replace(/>/g,"&gt;"));var n=p.node().appendChild(u(a,e.cssStyle?e.cssStyle:r.labelStyle,!0,!0)),i=n.getBBox();if((0,o.m)((0,o.c)().flowchart.htmlLabels)){var s=n.children[0],l=(0,c.Ys)(n);i=s.getBoundingClientRect(),l.attr("width",i.width),l.attr("height",i.height)}i.width>d&&(d=i.width),h+=i.height+4,B.push(n)})),h+=8;var _=[];if(r.classData.methods.forEach((function(t){var e=t.getDisplayDetails(),a=e.displayText;(0,o.c)().flowchart.htmlLabels&&(a=a.replace(/</g,"&lt;").replace(/>/g,"&gt;"));var n=p.node().appendChild(u(a,e.cssStyle?e.cssStyle:r.labelStyle,!0,!0)),i=n.getBBox();if((0,o.m)((0,o.c)().flowchart.htmlLabels)){var s=n.children[0],l=(0,c.Ys)(n);i=s.getBoundingClientRect(),l.attr("width",i.width),l.attr("height",i.height)}i.width>d&&(d=i.width),h+=i.height+4,_.push(n)})),h+=8,g){var C=(d-b.width)/2;(0,c.Ys)(w).attr("transform","translate( "+(-1*d/2+C)+", "+-1*h/2+")"),y=b.height+4}var E=(d-Z.width)/2;return(0,c.Ys)(S).attr("transform","translate( "+(-1*d/2+E)+", "+(-1*h/2+y)+")"),y+=Z.height+4,s.attr("class","divider").attr("x1",-d/2-a).attr("x2",d/2+a).attr("y1",-h/2-a+8+y).attr("y2",-h/2-a+8+y),y+=8,B.forEach((function(t){var r;(0,c.Ys)(t).attr("transform","translate( "+-d/2+", "+(-1*h/2+y+4)+")");var e=null==t?void 0:t.getBBox();y+=(null!==(r=null==e?void 0:e.height)&&void 0!==r?r:0)+4})),y+=8,l.attr("class","divider").attr("x1",-d/2-a).attr("x2",d/2+a).attr("y1",-h/2-a+8+y).attr("y2",-h/2-a+8+y),y+=8,_.forEach((function(t){var r;(0,c.Ys)(t).attr("transform","translate( "+-d/2+", "+(-1*h/2+y)+")");var e=null==t?void 0:t.getBBox();y+=(null!==(r=null==e?void 0:e.height)&&void 0!==r?r:0)+4})),i.attr("style",r.style).attr("class","outer title-state").attr("x",-d/2-a).attr("y",-h/2-a).attr("width",d+r.padding).attr("height",h+r.padding),f(r,i),r.intersect=function(t){return v.rect(r,t)},n}},z={},G=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e,n){var i,s,c;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.link){t.next=8;break}return"sandbox"===(0,o.c)().securityLevel?c="_top":e.linkTarget&&(c=e.linkTarget||"_blank"),i=r.insert("svg:a").attr("xlink:href",e.link).attr("target",c),t.next=5,q[e.shape](i,e,n);case 5:s=t.sent,t.next=12;break;case 8:return t.next=10,q[e.shape](r,e,n);case 10:s=t.sent,i=s;case 12:return e.tooltip&&s.attr("title",e.tooltip),e.class&&s.attr("class","node default "+e.class),i.attr("data-node","true"),i.attr("data-id",e.id),z[e.id]=i,e.haveCallback&&z[e.id].attr("class",z[e.id].attr("class")+" clickable"),t.abrupt("return",i);case 19:case"end":return t.stop()}}),t)})));return function(r,e,a){return t.apply(this,arguments)}}(),V=function(t,r){z[r.id]=t},Q=function(){z={}},F=function(t){var r=z[t.id];o.l.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");var e=t.diff||0;return t.clusterNode?r.attr("transform","translate("+(t.x+e-t.width/2)+", "+(t.y-t.height/2-8)+")"):r.attr("transform","translate("+t.x+", "+t.y+")"),e},J=function(t){var r,e,a,n,i=t.flowchart,s=null!==(r=null==(a=null==i?void 0:i.subGraphTitleMargin)?void 0:a.top)&&void 0!==r?r:0,o=null!==(e=null==(n=null==i?void 0:i.subGraphTitleMargin)?void 0:n.bottom)&&void 0!==e?e:0;return{subGraphTitleTopMargin:s,subGraphTitleBottomMargin:o,subGraphTitleTotalMargin:s+o}},$={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:5.3};function K(t,r){if(void 0===t||void 0===r)return{angle:0,deltaX:0,deltaY:0};t=tt(t),r=tt(r);var e=[t.x,t.y],a=e[0],n=e[1],i=[r.x,r.y],s=i[0]-a,o=i[1]-n;return{angle:Math.atan(o/s),deltaX:s,deltaY:o}}var tt=function(t){return Array.isArray(t)?{x:t[0],y:t[1]}:t},rt=function(t){return{x:function(r,e,a){var n=0;if(0===e&&Object.hasOwn($,t.arrowTypeStart)){var i=K(a[0],a[1]),s=i.angle,o=i.deltaX;n=$[t.arrowTypeStart]*Math.cos(s)*(o>=0?1:-1)}else if(e===a.length-1&&Object.hasOwn($,t.arrowTypeEnd)){var c=K(a[a.length-1],a[a.length-2]),l=c.angle,d=c.deltaX;n=$[t.arrowTypeEnd]*Math.cos(l)*(d>=0?1:-1)}return tt(r).x+n},y:function(r,e,a){var n=0;if(0===e&&Object.hasOwn($,t.arrowTypeStart)){var i=K(a[0],a[1]),s=i.angle,o=i.deltaY;n=$[t.arrowTypeStart]*Math.abs(Math.sin(s))*(o>=0?1:-1)}else if(e===a.length-1&&Object.hasOwn($,t.arrowTypeEnd)){var c=K(a[a.length-1],a[a.length-2]),l=c.angle,d=c.deltaY;n=$[t.arrowTypeEnd]*Math.abs(Math.sin(l))*(d>=0?1:-1)}return tt(r).y+n}}},et=function(t,r,e,a,n){r.arrowTypeStart&&nt(t,"start",r.arrowTypeStart,e,a,n),r.arrowTypeEnd&&nt(t,"end",r.arrowTypeEnd,e,a,n)},at={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},nt=function(t,r,e,a,n,i){var s=at[e];if(s){var c="start"===r?"Start":"End";t.attr("marker-".concat(r),"url(".concat(a,"#").concat(n,"_").concat(i,"-").concat(s).concat(c,")"))}else o.l.warn("Unknown arrow type: ".concat(e))},it={},st={},ot=function(){it={},st={}},ct=function(t,r){var e=(0,o.m)((0,o.c)().flowchart.htmlLabels),a="markdown"===r.labelType?(0,l.a)(t,r.label,{style:r.labelStyle,useHtmlLabels:e,addSvgBackground:!0}):u(r.label,r.labelStyle),n=t.insert("g").attr("class","edgeLabel"),i=n.insert("g").attr("class","label");i.node().appendChild(a);var s,d=a.getBBox();if(e){var h=a.children[0],p=(0,c.Ys)(a);d=h.getBoundingClientRect(),p.attr("width",d.width),p.attr("height",d.height)}if(i.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),it[r.id]=n,r.width=d.width,r.height=d.height,r.startLabelLeft){var f=u(r.startLabelLeft,r.labelStyle),y=t.insert("g").attr("class","edgeTerminals"),g=y.insert("g").attr("class","inner");s=g.node().appendChild(f);var x=f.getBBox();g.attr("transform","translate("+-x.width/2+", "+-x.height/2+")"),st[r.id]||(st[r.id]={}),st[r.id].startLeft=y,lt(s,r.startLabelLeft)}if(r.startLabelRight){var w=u(r.startLabelRight,r.labelStyle),b=t.insert("g").attr("class","edgeTerminals"),v=b.insert("g").attr("class","inner");s=b.node().appendChild(w),v.node().appendChild(w);var m=w.getBBox();v.attr("transform","translate("+-m.width/2+", "+-m.height/2+")"),st[r.id]||(st[r.id]={}),st[r.id].startRight=b,lt(s,r.startLabelRight)}if(r.endLabelLeft){var k=u(r.endLabelLeft,r.labelStyle),L=t.insert("g").attr("class","edgeTerminals"),S=L.insert("g").attr("class","inner");s=S.node().appendChild(k);var Z=k.getBBox();S.attr("transform","translate("+-Z.width/2+", "+-Z.height/2+")"),L.node().appendChild(k),st[r.id]||(st[r.id]={}),st[r.id].endLeft=L,lt(s,r.endLabelLeft)}if(r.endLabelRight){var M=u(r.endLabelRight,r.labelStyle),T=t.insert("g").attr("class","edgeTerminals"),B=T.insert("g").attr("class","inner");s=B.node().appendChild(M);var _=M.getBBox();B.attr("transform","translate("+-_.width/2+", "+-_.height/2+")"),T.node().appendChild(M),st[r.id]||(st[r.id]={}),st[r.id].endRight=T,lt(s,r.endLabelRight)}return a};function lt(t,r){(0,o.c)().flowchart.htmlLabels&&t&&(t.style.width=9*r.length+"px",t.style.height="12px")}var dt=function(t,r){o.l.debug("Moving label abc88 ",t.id,t.label,it[t.id],r);var e=r.updatedPath?r.updatedPath:r.originalPath,a=(0,o.c)(),n=J(a).subGraphTitleTotalMargin;if(t.label){var i=it[t.id],s=t.x,c=t.y;if(e){var l=o.u.calcLabelPosition(e);o.l.debug("Moving label "+t.label+" from (",s,",",c,") to (",l.x,",",l.y,") abc88"),r.updatedPath&&(s=l.x,c=l.y)}i.attr("transform","translate(".concat(s,", ").concat(c+n/2,")"))}if(t.startLabelLeft){var d=st[t.id].startLeft,h=t.x,u=t.y;if(e){var p=o.u.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",e);h=p.x,u=p.y}d.attr("transform","translate(".concat(h,", ").concat(u,")"))}if(t.startLabelRight){var f=st[t.id].startRight,y=t.x,g=t.y;if(e){var x=o.u.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",e);y=x.x,g=x.y}f.attr("transform","translate(".concat(y,", ").concat(g,")"))}if(t.endLabelLeft){var w=st[t.id].endLeft,b=t.x,v=t.y;if(e){var m=o.u.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",e);b=m.x,v=m.y}w.attr("transform","translate(".concat(b,", ").concat(v,")"))}if(t.endLabelRight){var k=st[t.id].endRight,L=t.x,S=t.y;if(e){var Z=o.u.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",e);L=Z.x,S=Z.y}k.attr("transform","translate(".concat(L,", ").concat(S,")"))}},ht=function(t,r){o.l.debug("abc88 cutPathAtIntersect",t,r);var e=[],a=t[0],n=!1;return t.forEach((function(t){if(function(t,r){var e=t.x,a=t.y,n=Math.abs(r.x-e),i=Math.abs(r.y-a),s=t.width/2,o=t.height/2;return n>=s||i>=o}(r,t)||n)a=t,n||e.push(t);else{var i=function(t,r,e){o.l.debug("intersection calc abc89:\n  outsidePoint: ".concat(JSON.stringify(r),"\n  insidePoint : ").concat(JSON.stringify(e),"\n  node        : x:").concat(t.x," y:").concat(t.y," w:").concat(t.width," h:").concat(t.height));var a=t.x,n=t.y,i=Math.abs(a-e.x),s=t.width/2,c=e.x<r.x?s-i:s+i,l=t.height/2,d=Math.abs(r.y-e.y),h=Math.abs(r.x-e.x);if(Math.abs(n-r.y)*s>Math.abs(a-r.x)*l){var u=e.y<r.y?r.y-l-n:n-l-r.y;c=h*u/d;var p={x:e.x<r.x?e.x+c:e.x-h+c,y:e.y<r.y?e.y+d-u:e.y-d+u};return 0===c&&(p.x=r.x,p.y=r.y),0===h&&(p.x=r.x),0===d&&(p.y=r.y),o.l.debug("abc89 topp/bott calc, Q ".concat(d,", q ").concat(u,", R ").concat(h,", r ").concat(c),p),p}var f=d*(c=e.x<r.x?r.x-s-a:a-s-r.x)/h,y=e.x<r.x?e.x+h-c:e.x-h+c,g=e.y<r.y?e.y+f:e.y-f;return o.l.debug("sides calc abc89, Q ".concat(d,", q ").concat(f,", R ").concat(h,", r ").concat(c),{_x:y,_y:g}),0===c&&(y=r.x,g=r.y),0===h&&(y=r.x),0===d&&(g=r.y),{x:y,y:g}}(r,a,t),s=!1;e.forEach((function(t){s=s||t.x===i.x&&t.y===i.y})),e.some((function(t){return t.x===i.x&&t.y===i.y}))||e.push(i),n=!0}})),e},ut=function(t,r,e,a,n,i,s){var l=e.points;o.l.debug("abc88 InsertEdge: edge=",e,"e=",r);var d=!1,h=i.node(r.v),u=i.node(r.w);(null==u?void 0:u.intersect)&&(null==h?void 0:h.intersect)&&((l=l.slice(1,e.points.length-1)).unshift(h.intersect(l[0])),l.push(u.intersect(l[l.length-1]))),e.toCluster&&(o.l.debug("to cluster abc88",a[e.toCluster]),l=ht(e.points,a[e.toCluster].node),d=!0),e.fromCluster&&(o.l.debug("from cluster abc88",a[e.fromCluster]),l=ht(l.reverse(),a[e.fromCluster].node).reverse(),d=!0);var p=l.filter((function(t){return!Number.isNaN(t.y)})),f=c.$0Z;!e.curve||"graph"!==n&&"flowchart"!==n||(f=e.curve);var y,g=rt(e),x=g.x,w=g.y,b=(0,c.jvg)().x(x).y(w).curve(f);switch(e.thickness){case"normal":y="edge-thickness-normal";break;case"thick":case"invisible":y="edge-thickness-thick";break;default:y=""}switch(e.pattern){case"solid":y+=" edge-pattern-solid";break;case"dotted":y+=" edge-pattern-dotted";break;case"dashed":y+=" edge-pattern-dashed"}var v=t.append("path").attr("d",b(p)).attr("id",e.id).attr("class"," "+y+(e.classes?" "+e.classes:"")).attr("style",e.style),m="";((0,o.c)().flowchart.arrowMarkerAbsolute||(0,o.c)().state.arrowMarkerAbsolute)&&(m=(m=(m=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),et(v,e,m,s,n);var k={};return d&&(k.updatedPath=l),k.originalPath=e.points,k}}}]);
//# sourceMappingURL=183.c1b08c72.chunk.js.map